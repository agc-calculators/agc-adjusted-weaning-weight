/*! Built with http://stenciljs.com */
AgcAdjustedWeaningWeight.loadBundle("qvzbbn0w",["exports"],function(e){var t=window.AgcAdjustedWeaningWeight.h,a=function(e,t){var a=e.querySelector('[name="'+t+'"]'),i=e.querySelector('[data-validates="'+t+'"');return a.checkValidity()?(a.className=a.className.replace(" invalid",""),i.style.display="none",!0):(-1===a.className.indexOf("invalid")&&(a.className+=" invalid"),i.style.display="block",!1)},i=function(e,t){return+(Math.round(new Number(e+"e+"+t).valueOf())+"e-"+t)},n=function(){function e(){this.socket="",this.tract="",this.units={weight:"lbs"},this.mode="step",this.currentStep=0,this.cache={},this.submitted=!1,this.results={}}return e.prototype.render=function(){var e=this;return t("div",null,t("form",{onSubmit:function(e){return e.preventDefault()},ref:function(t){return e.form=t},"data-wizard":"agc-adjusted-weaning-weight","data-wizard-mode":this.mode,class:"agc-wizard"},t("slot",null),t("section",{"data-wizard-section":"1"},t("div",{class:"agc-wizard__field"},t("label",{"data-i18n":"fields.gender"},"Gender"),t("div",{class:"agc-wizard__radio-group"},t("input",{id:"maleGender",name:"gender",type:"radio",value:"male"})," ",t("span",{"data-i18n":"options.gender.male"},"Male"),t("input",{id:"femaleGender",name:"gender",type:"radio",value:"male"})," ",t("span",{"data-i18n":"options.gender.female"},"Female")),t("p",{"data-i18n":"hints.gender"},"â®¤ Select the gender.")),t("div",{class:"agc-wizard__actions"},"step"===this.mode&&t("button",{class:"agc-wizard__actions-next","data-i18n":"actions.next",onClick:this.nextPrev.bind(this,1)},"Next ðŸ –"))),t("section",{"data-wizard-section":"2"},t("div",{class:"agc-wizard__field"},t("label",{"data-i18n":"fields.birth-weight"},"Birth Weight"),t("input",{name:"birthWeight",type:"number",required:!0,min:"1"}),t("p",{class:"agc-wizard__validation-message","data-i18n":"validation.birth-weight.required","data-validates":"birthWeight"},"Please enter a valid weight in whole numbers."),t("p",{"data-i18n":"hints.birth-weight."+this.units.weight},"â®¤ Enter the weight at birth in pounds.")),t("div",{class:"agc-wizard__actions"},"step"===this.mode&&[t("button",{class:"agc-wizard__actions-prev","data-i18n":"actions.back",onClick:this.nextPrev.bind(this,-1)},"ðŸ ” Back"),t("button",{class:"agc-wizard__actions-next","data-i18n":"actions.next",onClick:this.nextPrev.bind(this,1)},"Next ðŸ –")])),t("section",{"data-wizard-section":"3"},t("div",{class:"agc-wizard__field"},t("label",{"data-i18n":"fields.current-weight"},"Current Weight"),t("input",{name:"currentWeight",type:"number",required:!0,min:"1"}),t("p",{class:"agc-wizard__validation-message","data-i18n":"validation.current-weight.required","data-validates":"currentWeight"},"Please enter a valid weight in whole numbers."),t("p",{"data-i18n":"hints.current-weight."+this.units.weight},"â®¤ Enter the current weight in pounds.")),t("div",{class:"agc-wizard__actions"},"step"===this.mode&&[t("button",{class:"agc-wizard__actions-prev","data-i18n":"actions.back",onClick:this.nextPrev.bind(this,-1)},"ðŸ ” Back"),t("button",{class:"agc-wizard__actions-next","data-i18n":"actions.next",onClick:this.nextPrev.bind(this,1)},"Next ðŸ –")])),t("section",{"data-wizard-section":"4"},t("div",{class:"agc-wizard__field"},t("label",{"data-i18n":"fields.current-age"},"Current Age"),t("input",{name:"currentAge",type:"number",required:!0,min:"1"}),t("p",{class:"agc-wizard__validation-message","data-i18n":"validation.current-age.required","data-validates":"currentAge"},"Please enter a valid weight in whole numbers."),t("p",{"data-i18n":"hints.current-age."+this.units.weight},"â®¤ Enter the current age in days.")),t("div",{class:"agc-wizard__actions"},"step"===this.mode&&[t("button",{class:"agc-wizard__actions-prev","data-i18n":"actions.back",onClick:this.nextPrev.bind(this,-1)},"ðŸ ” Back"),t("button",{class:"agc-wizard__actions-next","data-i18n":"actions.next",onClick:this.nextPrev.bind(this,1)},"Next ðŸ –")])),t("section",{"data-wizard-section":"5"},t("div",{class:"agc-wizard__field"},t("label",{"data-i18n":"fields.age-of-dam"},"Age of Dam"),t("select",{name:"ageOfDam"},t("option",{value:"2","data-i18n":"options.age-of-dam.2"},"2 years old"),t("option",{value:"3","data-i18n":"options.age-of-dam.3"},"3 years old"),t("option",{value:"4","data-i18n":"options.age-of-dam.4"},"4 years old"),t("option",{value:"5","data-i18n":"options.age-of-dam.5"},"5 - 10 years old"),t("option",{value:"11","data-i18n":"options.age-of-dam.11"},"Over 10 years old")),t("p",{"data-i18n":"hints.age-of-dam"},"â®¤ Select the age of the dam.")),t("div",{class:"agc-wizard__actions"},"step"===this.mode&&t("button",{class:"agc-wizard__actions-back","data-i18n":"actions.back",onClick:this.nextPrev.bind(this,-1)},"ðŸ ” Back"),t("button",{class:"agc-wizard__actions-next","data-i18n":"actions.finish",onClick:this.nextPrev.bind(this,"step"===this.mode?1:2)},"Calculate ðŸ –"))),t("section",{"data-wizard-results":!0},t("slot",{name:"results"}))))},e.prototype.showTab=function(e){"step"===this.mode&&(this.cache.sections[e].style.display="block"),this.socket&&this.agcStepChanged.emit({socket:this.socket,tract:this.tract,step:this.currentStep})},e.prototype.reset=function(){this.currentStep=0,this.submitted=!1,this.showTab(0)},e.prototype.validateForm=function(){var e=!0;return 1!==this.currentStep&&"full"!==this.mode||a(this.form,"birthWeight")||(e=!1),2!==this.currentStep&&"full"!==this.mode||a(this.form,"currentWeight")||(e=!1),3!==this.currentStep&&"full"!==this.mode||a(this.form,"currentAge")||(e=!1),e},e.prototype.nextPrev=function(e,t){if(t&&t.preventDefault(),"full"===this.mode){if(!this.validateForm())return!1}else if(1==e&&!this.validateForm())return!1;if("step"===this.mode&&(this.cache.sections[this.currentStep].style.display="none"),this.currentStep=this.currentStep+e,this.currentStep>=this.cache.sections.length)return this.submitted=!0,this.showResults.call(this),!1;this.showTab.call(this,this.currentStep)},e.prototype.showResults=function(){var e=this.form.querySelector("#maleGender").checked?"male":"female",t=parseFloat(this.form.querySelector('[name="birthWeight"').value),a=parseFloat(this.form.querySelector('[name="currentWeight"').value),n=parseInt(this.form.querySelector('[name="currentAge"').value),s=this.form.querySelector('[name="ageOfDam').value,r={2:{male:60,female:54},3:{male:40,female:36},4:{male:20,female:18},5:{male:0,female:0},11:{male:20,female:18}}[s][e],c=a-t,o=i(c/n,2),d=i(t+r+205*o,0),l={socket:this.socket,tract:this.tract,gender:e,birthWeight:t,currentWeight:a,currentAge:n,ageOfDam:s,adjustment:r,weightGain:c,averageDailyGain:o,adjustedWeaningWeight:d,units:this.units};console.log("results",l),this.socket&&this.agcCalculated.emit({socket:this.socket,tract:this.tract,results:Object.assign({},l)}),this.results=Object.assign({},l),this.cache.results.forEach(function(e){e.style.display="block"})},e.prototype.handleAction=function(e){"reset"===e.detail.action&&this.reset()},e.prototype.componentDidLoad=function(){var e=Array.from(this.form.querySelectorAll("[data-wizard-section]")).map(function(e){return e}).map(function(e){return e}),t=Array.from(this.form.querySelectorAll("[data-wizard-results]")).map(function(e){return e}).map(function(e){return e});this.cache=Object.assign({},this.cache,{sections:e,results:t}),window.document.addEventListener("agcAction",this.handleAction.bind(this)),this.form.querySelector('[name="ageOfDam"]').options[3].defaultSelected=!0,this.form.querySelector("#maleGender").defaultChecked=!0,this.showTab(0)},e.prototype.componentDidUnload=function(){window.document.removeEventListener("agcAction",this.handleAction)},Object.defineProperty(e,"is",{get:function(){return"agc-adjusted-weaning-weight"},enumerable:!0,configurable:!0}),Object.defineProperty(e,"properties",{get:function(){return{cache:{state:!0},currentStep:{state:!0},mode:{type:String,attr:"mode"},results:{state:!0},socket:{type:String,attr:"socket"},submitted:{state:!0},tract:{type:String,attr:"tract"},units:{type:"Any",attr:"units"}}},enumerable:!0,configurable:!0}),Object.defineProperty(e,"events",{get:function(){return[{name:"agcCalculated",method:"agcCalculated",bubbles:!0,cancelable:!0,composed:!0},{name:"agcStepChanged",method:"agcStepChanged",bubbles:!0,cancelable:!0,composed:!0}]},enumerable:!0,configurable:!0}),e}();e.AgcAdjustedWeaningWeight=n,Object.defineProperty(e,"__esModule",{value:!0})});